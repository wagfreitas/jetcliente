(self.webpackChunkdriver=self.webpackChunkdriver||[]).push([[6793],{6793:function(e,t,n){"use strict";n.r(t),n.d(t,{SettingsPageModule:function(){return T}});var s=n(8583),i=n(3679),o=n(2859),r=n(3025),u=n(9019),a=n(7716),l=n(5620),c=n(7556),h=n(7318),g=n(8969),p=n(4207),Z=n(5469);const d=[{path:"",component:(()=>{class e{constructor(e,t,n,s,i){this.commonService=e,this.authService=t,this.db=n,this.fcm=s,this.ss=i,this.langArr=[],this.lang="en",this.user={},this.settings={},this.langArr=u.NZ.langArr,this.lang=this.commonService.getLang(),this.ss.getSettings().subscribe(e=>this.settings=null!=e?e.payload.val():{})}openSupport(){window.open(this.settings.riderSupportURL,"_blank")}ngOnInit(){this.authService.getUserData().then(e=>{this.authService.getUser(e.uid).snapshotChanges().subscribe(e=>this.user=Object.assign({uid:e.key},e.payload.val()))})}changeLang(){this.commonService.changeLang(this.lang)}change(){console.log(this.user),0==this.user.isPushEnabled||null==this.user.isPushEnabled?this.fcm.getToken().then(e=>{console.log(e),this.authService.getUser(this.user.uid).update({isPushEnabled:!0,pushToken:e})}).catch(e=>{console.log(e),this.authService.getUser(this.user.uid).update({isPushEnabled:!1,pushToken:null})}):this.authService.getUser(this.user.uid).update({isPushEnabled:!1,pushToken:null})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(l.v),a.Y36(c.e),a.Y36(h.KQ),a.Y36(g.L),a.Y36(p.R))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-settings"]],decls:32,vars:10,consts:[["color","dark"],["slot","start"],["lines","none"],["onerror","this.src='./assets/img/default.png'",3,"src"],[2,"font-weight","500"],["slot","end","color","dark","fill","outline","routerLink","/profile"],["slot","start","name","notifications"],["slot","end",3,"ngModel","click","ngModelChange"],[3,"click"],["slot","start","name","help-buoy"]],template:function(e,t){1&e&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar",0),a.TgZ(2,"ion-buttons",1),a._UZ(3,"ion-menu-button"),a.qZA(),a.TgZ(4,"ion-title"),a._uU(5,"Configura\xe7\xf3es"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"ion-content"),a.TgZ(7,"ion-list",2),a.TgZ(8,"ion-item"),a.TgZ(9,"ion-avatar",1),a._UZ(10,"img",3),a.qZA(),a.TgZ(11,"ion-label"),a.TgZ(12,"h3",4),a._uU(13),a.qZA(),a.TgZ(14,"p"),a._uU(15),a.qZA(),a.qZA(),a.TgZ(16,"ion-button",5),a._uU(17),a.ALo(18,"translate"),a.qZA(),a.qZA(),a.TgZ(19,"ion-item"),a._UZ(20,"ion-icon",6),a.TgZ(21,"ion-label"),a.TgZ(22,"h3"),a._uU(23,"Receber Notifica\xe7\xf4es?"),a.qZA(),a.TgZ(24,"p"),a._uU(25),a.ALo(26,"translate"),a.qZA(),a.qZA(),a.TgZ(27,"ion-toggle",7),a.NdJ("click",function(){return t.change()})("ngModelChange",function(e){return t.user.isPushEnabled=e}),a.qZA(),a.qZA(),a.TgZ(28,"ion-item",8),a.NdJ("click",function(){return t.openSupport()}),a._UZ(29,"ion-icon",9),a.TgZ(30,"ion-label"),a._uU(31," Ajuda "),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(10),a.s9C("src",t.user.photoURL,a.LSH),a.xp6(3),a.Oqu(t.user.name),a.xp6(2),a.Oqu(t.user.phoneNumber),a.xp6(2),a.Oqu(a.lcZ(18,6,"EDITAR")),a.xp6(8),a.Oqu(a.lcZ(26,8,"PUSH_NOTIFICATION_TEXT")),a.xp6(2),a.Q6J("ngModel",t.user.isPushEnabled))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.wd,o.W2,o.q_,o.Ie,o.BJ,o.Q$,o.YG,o.YI,r.rH,o.gu,o.ho,o.w,i.JJ,i.On],pipes:[Z.X$],styles:[""]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.Bz.forChild(d)],r.Bz]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,i.u5,o.Pc,Z.aw,A]]}),e})()}}]);