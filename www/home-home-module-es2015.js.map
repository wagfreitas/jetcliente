{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts","./src/app/services/deal.service.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n     JetPort\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"locationinput-holder\\\">\\n    <input class=\\\"locationinput\\\" (click)=\\\"chooseOrigin()\\\" placeholder=\\\"local do atendimento?\\\" type=\\\"text\\\"\\n      value=\\\"{{origin ? origin.vicinity : '' }}\\\">\\n    <!--input class=\\\"locationinput\\\" (click)=\\\"chooseDestination()\\\" placeholder=\\\"Where do you want to drop?\\\" type=\\\"text\\\"\\n      value=\\\"{{ destination ? destination.vicinity : '' }}\\\"-->\\n    <p class=\\\"distanceText\\\" [hidden]=\\\"!destination\\\">\\n      <span *ngIf=\\\"distanceText!=''\\\">{{ distanceText }}</span>\\n      <span *ngIf=\\\"durationText!=''\\\">&nbsp; {{durationText}}</span>\\n    </p>\\n  </div>\\n\\n  <div id=\\\"{{ mapId }}\\\" [ngStyle]=\\\"{height: '100%'}\\\"></div>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar style=\\\"padding: 8px;\\\">\\n    <ion-row [hidden]=\\\"!destination\\\" style=\\\"background: #f5f5f5;\\\">\\n      <ion-col>\\n        <ion-button fill=\\\"clear\\\" size=\\\"small\\\" color=\\\"dark\\\" expand=\\\"block\\\" (click)=\\\"choosePaymentMethod1()\\\">\\n          <ion-icon slot=\\\"start\\\" name=\\\"{{ getPaymentMethod() }}\\\"></ion-icon>\\n          {{ getPaymentMethod() }}\\n        </ion-button>\\n      </ion-col>\\n      <ion-col>\\n        <ion-button fill=\\\"clear\\\" size=\\\"small\\\" color=\\\"dark\\\" expand=\\\"block\\\" (click)=\\\"showPromoPopup()\\\">\\n          <ion-icon slot=\\\"start\\\" name=\\\"create\\\"></ion-icon>\\n          {{'PROMO' | translate}}\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row [hidden]=\\\"!destination\\\">\\n\\n      <ion-col *ngFor=\\\"let vehicle of vehicles; let i = index\\\" [ngClass]=\\\"{'active': vehicle.active}\\\"\\n        (click)=\\\"chooseVehicle(i)\\\">\\n        <p class=\\\"carName\\\">{{ vehicle.name }}</p>\\n        <img src=\\\"{{ vehicle.icon }}\\\">\\n        <!-- <p class=\\\"carSeats\\\">{{ vehicle.seats }} seats</p> -->\\n        <p class=\\\"carPrice\\\">{{currency }}{{ vehicle.fee_taxed }}</p>\\n      </ion-col>\\n\\n    </ion-row>\\n\\n\\n    <ion-button expand=\\\"block\\\" color=\\\"dark\\\" [hidden]=\\\"origin\\\" (click)=\\\"chooseDestination()\\\">\\n     Acionar Técnico</ion-button>\\n    <ion-button expand=\\\"block\\\" color=\\\"dark\\\" [hidden]=\\\"!origin\\\" (click)=\\\"book()\\\">\\n      {{ locateDriver == false ? 'Acionar Técnico':'Localizando Técnico'}} <ion-spinner name=\\\"dots\\\" color=\\\"light\\\"\\n        [hidden]=\\\"!locateDriver\\\"></ion-spinner>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"ion-title {\\n  text-align: center;\\n  margin-left: -40px !important;\\n  letter-spacing: 4px;\\n}\\n\\n.header-md:after {\\n  background: none;\\n}\\n\\n.locationinput-holder {\\n  padding: 0.2rem 1rem;\\n  background: #222222;\\n  top: 0;\\n  width: 100%;\\n}\\n\\n.locationinput {\\n  background: #fff;\\n  outline: 0;\\n  width: 100%;\\n  padding: 0.5rem;\\n  margin: 2px 0px;\\n  font-size: 14px;\\n  border-radius: 4px;\\n  border: none;\\n  color: #555;\\n}\\n\\n.distanceText {\\n  font-size: 12px;\\n  color: #eeeeee;\\n  margin: 0;\\n}\\n\\n.align-bottom {\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n  padding: 5px;\\n}\\n\\n.align-bottom p {\\n  font-size: 14p;\\n}\\n\\nion-col {\\n  text-align: center;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\nion-col img {\\n  width: 40px;\\n  height: 40px;\\n  padding: 4px;\\n  border-radius: 100%;\\n}\\n\\nion-col p {\\n  margin: 2px;\\n}\\n\\nion-row {\\n  background: #fff;\\n}\\n\\n.list-md {\\n  margin: -1px 0 0px;\\n}\\n\\n.label-md {\\n  margin: 13px -50px 13px 0;\\n}\\n\\n.text-input-md {\\n  font-size: 14px;\\n  margin: 8px 5px;\\n}\\n\\n#map {\\n  width: 100%;\\n}\\n\\n.active img {\\n  border: 3px solid #ffce00;\\n}\\n\\n.carName {\\n  font-size: 12px;\\n  display: inline-block;\\n  background: #333;\\n  color: #fff;\\n  padding: 2px 4px;\\n  border-radius: 4px;\\n}\\n\\n.carSeats {\\n  color: #777;\\n  font-size: 0.7em;\\n}\\n\\n.carPrice {\\n  color: #777;\\n  font-size: 0.8em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsNkJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUNFO0VBQ0UsZ0JBQUE7QUFFSjs7QUFBRTtFQUNFLG9CQUFBO0VBQ0EsbUJBQUE7RUFDQSxNQUFBO0VBQ0EsV0FBQTtBQUdKOztBQURFO0VBQ0UsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFJSjs7QUFERTtFQUNFLGVBQUE7RUFDQSxjQUFBO0VBQ0EsU0FBQTtBQUlKOztBQUZFO0VBQ0UsZUFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUtKOztBQUZFO0VBQ0UsY0FBQTtBQUtKOztBQUZFO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBS0o7O0FBSEU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQU1KOztBQUpFO0VBQVksV0FBQTtBQVFkOztBQVBFO0VBQ0UsZ0JBQUE7QUFVSjs7QUFSRTtFQUNFLGtCQUFBO0FBV0o7O0FBVEU7RUFDRSx5QkFBQTtBQVlKOztBQVZFO0VBQ0UsZUFBQTtFQUNBLGVBQUE7QUFhSjs7QUFYRTtFQUNFLFdBQUE7QUFjSjs7QUFYRTtFQUNFLHlCQUFBO0FBY0o7O0FBWEU7RUFDRSxlQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBY0o7O0FBWkU7RUFDRSxXQUFBO0VBQ0EsZ0JBQUE7QUFlSjs7QUFiRTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQWdCSiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdGl0bGV7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi1sZWZ0OiAtNDBweCAhaW1wb3J0YW50O1xuICAgIGxldHRlci1zcGFjaW5nOiA0cHg7XG4gIH1cbiAgLmhlYWRlci1tZDphZnRlcntcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICB9XG4gIC5sb2NhdGlvbmlucHV0LWhvbGRlcntcbiAgICBwYWRkaW5nOiAwLjJyZW0gMXJlbTtcbiAgICBiYWNrZ3JvdW5kOiAjMjIyMjIyO1xuICAgIHRvcDowO1xuICAgIHdpZHRoOjEwMCU7XG4gIH1cbiAgLmxvY2F0aW9uaW5wdXR7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBvdXRsaW5lOjA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMC41cmVtO1xuICAgIG1hcmdpbjogMnB4IDBweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBjb2xvcjogIzU1NTtcbiAgfVxuICBcbiAgLmRpc3RhbmNlVGV4dHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY29sb3I6ICNlZWVlZWU7XG4gICAgbWFyZ2luOiAwO1xuICB9XG4gIC5hbGlnbi1ib3R0b20ge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBib3R0b206IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogNXB4O1xuICB9XG4gIFxuICAuYWxpZ24tYm90dG9tIHB7XG4gICAgZm9udC1zaXplOiAxNHBcbiAgfVxuICBcbiAgaW9uLWNvbHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cbiAgaW9uLWNvbCBpbWd7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHBhZGRpbmc6IDRweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICB9XG4gIGlvbi1jb2wgcCB7IG1hcmdpbjogMnB4IH1cbiAgaW9uLXJvd3tcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICB9XG4gIC5saXN0LW1kIHtcbiAgICBtYXJnaW46IC0xcHggMCAwcHg7XG4gIH1cbiAgLmxhYmVsLW1ke1xuICAgIG1hcmdpbjogMTNweCAtNTBweCAxM3B4IDA7XG4gIH1cbiAgLnRleHQtaW5wdXQtbWR7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIG1hcmdpbjogOHB4IDVweDtcbiAgfVxuICAjbWFwIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuICBcbiAgLmFjdGl2ZSBpbWd7XG4gICAgYm9yZGVyOiAzcHggc29saWQgI2ZmY2UwMDtcbiAgfVxuICBcbiAgLmNhck5hbWV7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBiYWNrZ3JvdW5kOiAjMzMzO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIHBhZGRpbmc6IDJweCA0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB9XG4gIC5jYXJTZWF0c3tcbiAgICBjb2xvcjogIzc3NztcbiAgICBmb250LXNpemU6IDAuN2VtO1xuICB9XG4gIC5jYXJQcmljZXtcbiAgICBjb2xvcjogIzc3NztcbiAgICBmb250LXNpemU6IDAuOGVtO1xuICB9Il19 */\";","import { Component, ChangeDetectorRef, OnInit } from '@angular/core';\nimport { PlaceService } from '../services/place.service';\nimport { SettingService } from '../services/setting.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../services/auth.service';\nimport { DealService } from '../services/deal.service';\nimport { DriverService } from '../services/driver.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { TripService } from '../services/trip.service';\nimport { AlertController, MenuController } from '@ionic/angular';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Router } from '@angular/router';\nimport { DEAL_STATUS_PENDING, DEAL_STATUS_ACCEPTED, POSITION_INTERVAL, SHOW_VEHICLES_WITHIN, VEHICLE_LAST_ACTIVE_LIMIT, environment } from 'src/environments/environment.prod';\nimport { take } from 'rxjs/operators';\nimport { CommonService } from '../services/common.service';\nimport * as firebase from 'firebase';\nimport { AngularFireDatabase } from '@angular/fire/database';\n\ndeclare var google: any;\ndeclare var Stripe: any;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  mapId = Math.random() + 'map';\n  mapHeight: number = 480;\n  showModalBg: boolean = false;\n  showVehicles: boolean = false;\n  vehicles: any = [];\n  currentVehicle: any;\n  note: any = '';\n  promocode: any = '';\n  map: any;\n  origin: any;\n  destination: any;\n  distance: number = 0;\n  duration: number = 0;\n  currency: string;\n  locality: any;\n  paymentMethod: string = 'dinheiro';\n  activeDrivers: Array<any> = [];\n  driverMarkers: Array<any> = [];\n  driverTracking: any;\n  locateDriver: any = false;\n  drivers: any;\n  user: any = {};\n  isTrackDriverEnabled = true;\n  discount: any = 0;\n  startLatLng: any;\n  destLatLng: any;\n  directionsService: any;\n  directionsDisplay: any;\n  bounds: any;\n  cardNumber: any;\n  settings: any = {};\n\n  distanceText: any = '';\n  durationText: any = '';\n\n  constructor(\n    private router: Router,\n    private alertCtrl: AlertController,\n    private placeService: PlaceService,\n    private geolocation: Geolocation,\n    private chRef: ChangeDetectorRef,\n    private settingService: SettingService,\n    private tripService: TripService,\n    private driverService: DriverService,\n    private afAuth: AngularFireAuth,\n    private authService: AuthService,\n    private translate: TranslateService,\n    private dealService: DealService,\n    private common: CommonService,\n    private menuCtrl: MenuController,\n    private db: AngularFireDatabase\n  ) {\n\n  }\n  ionViewDidEnter() {\n    this.menuCtrl.enable(true);\n    this.afAuth.authState.subscribe(authData => {\n      if (authData != null)\n        this.authService.getUser(authData.uid).snapshotChanges().subscribe((snap: any) => {\n          this.user = { key: snap.key, uid: snap.key, ...snap.payload.val() };\n          //console.log('usuario', this.user);\n        })\n    });\n    this.settingService.getSettings().subscribe(res => res != null ? this.settings = res.payload.val() : this.settings = {});\n\n   // console.log(\"calling\",);\n    this.origin = this.tripService.getOrigin();\n    this.destination = this.tripService.getDestination();\n    this.loadMap();\n  }\n\n  ngOnInit() {\n   // console.log(\"calling\");\n  }\n\n  ionViewDidLeave() {\n    clearInterval(this.driverTracking);\n  }\n\n  // get current payment method from service\n  getPaymentMethod() {\n    this.paymentMethod = this.tripService.getPaymentMethod()\n    return this.paymentMethod;\n  }\n\n  choosePaymentMethod1() {\n    this.alertCtrl.create({\n      header: \"Selecione a forma de pagamento\",\n      inputs: [\n        { type: 'radio', label: \"Card\", value: 'card' }\n      ],\n      buttons: [{\n        text: \"Cancela\"\n      }, {\n        text: \"Seleciona\",\n        handler: (data) => {\n          console.log(data);\n          if (data == 'card') {\n            this.authService.getCardSetting(this.user.uid).valueChanges().pipe(take(1)).subscribe((res: any) => {\n              if (res != null) {\n                this.tripService.setPaymentMethod(data);\n                this.paymentMethod = data;\n\n                const exp = res.exp.split('/');\n                Stripe.card.createToken({\n                  number: res.number,\n                  exp_month: exp[0],\n                  exp_year: exp[1],\n                  cvc: res.cvv\n                }, (status: number, response: any) => {\n                  if (status == 200) {\n                    console.log(\"Card Ready\")\n                    this.authService.updateCardSetting(res.number, res.exp, res.cvv, response.id, this.user.uid);\n                  } else {\n                    this.common.showToast(response.error.message);\n                  }\n                });\n              }\n              else\n                this.common.showAlert(\"Cartão Inválido\")\n            })\n          }\n          else if (data == 'cash') {\n            this.paymentMethod = data;\n            this.tripService.setPaymentMethod(data);\n          }\n        }\n      }]\n    }).then(res => res.present());\n  }\n\n  // toggle active vehicle\n  chooseVehicle(index) {\n    for (var i = 0; i < this.vehicles.length; i++) {\n      this.vehicles[i].active = (i == index);\n      // choose this vehicle type\n      if (i == index) {\n        this.tripService.setVehicle(this.vehicles[i]);\n        this.currentVehicle = this.vehicles[i];\n      }\n    }\n    // start tracking new driver type\n    this.trackDrivers();\n    this.toggleVehicles();\n  }\n\n  loadMap() {\n    // this.common.showLoader(\"Loading..\");\n\n    // busca a localização corrente do cliente\n    return this.geolocation.getCurrentPosition().then((resp) => {\n\n      if (this.origin) this.startLatLng = new google.maps.LatLng(this.origin.location.lat, this.origin.location.lng);\n      else this.startLatLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n\n      let directionsDisplay;\n      let directionsService = new google.maps.DirectionsService();\n      directionsDisplay = new google.maps.DirectionsRenderer({\n        polylineOptions: {\n          strokeColor: \"black\"\n        }\n      });\n\n      var mapOptions: any = environment.mapOptions;\n      mapOptions.center = this.startLatLng;\n      mapOptions.mapTypeId = google.maps.MapTypeId.ROADMAP;\n\n      this.map = new google.maps.Map(document.getElementById(this.mapId), mapOptions);\n\n      let mapx = this.map;\n      directionsDisplay.setMap(mapx);\n\n      // encontra o endereço no mapa\n      let geocoder = new google.maps.Geocoder();\n      geocoder.geocode({ 'latLng': this.map.getCenter() }, (results, status) => {\n        if (status == google.maps.GeocoderStatus.OK) {\n          if (!this.origin) {\n            // atribui o centro do mapa como a origin\n            this.origin = this.placeService.formatAddress(results[0]);\n            this.tripService.setOrigin(this.origin.vicinity, this.origin.location.lat, this.origin.location.lng);\n            this.setOrigin();\n            this.chRef.detectChanges();\n          } else {\n            this.setOrigin();\n          }\n\n          // salva a cidade\n          let locality = this.placeService.setLocalityFromGeocoder(results);\n         // console.log('cidade', locality);\n          // carrega a lista de veiculos e veiculos por cidades\n          this.settingService.getPrices().valueChanges().subscribe((snapshot: any) => {\n            this.vehicles = [];\n           // console.log('veiculos', snapshot);\n            let obj = snapshot[locality] ? snapshot[locality] : snapshot.default;\n          // console.log('objetos', obj)\n            this.currency = this.settings.currency;\n            this.tripService.setCurrency(this.settings.currency);\n\n            // calculate price\n            Object.keys(obj.vehicles).forEach(id => {\n              obj.vehicles[id].id = id;\n              this.vehicles.push(obj.vehicles[id]);\n            });\n\n            console.log('veiculos', this.vehicles);\n\n            // calculate distance between origin adn destination\n            if (this.destination) {\n\n              directionsService.route(request, (result, status) => {\n\n                if (status == google.maps.DirectionsStatus.OK && result.routes.length != 0) {\n                  console.log(result);\n                  this.distance = result.routes[0].legs[0].distance.value / 1000;\n                  this.distanceText = result.routes[0].legs[0].distance.text;\n                  this.durationText = result.routes[0].legs[0].duration.text;\n                  console.log(this.distance);\n\n                  for (let i = 0; i < this.vehicles.length; i++) {\n\n                    // Calculating base fare if distance between base km\n                    if (this.distance <= parseInt(this.vehicles[i].base_km)) {\n                      let fee = parseFloat((this.distance * parseInt(this.vehicles[i].base_fare)).toFixed(2));\n                      this.vehicles[i].fee = fee;\n                      this.vehicles[i].fee_taxed = parseFloat((fee + (fee * (parseInt(this.vehicles[i].tax) / 100))).toFixed(2))\n                    }\n\n                    // Calculating base fare if distance above base km\n                    else if (this.distance > parseInt(this.vehicles[i].base_km)) {\n                      let extraKm = this.distance - parseInt(this.vehicles[i].base_km);\n                      let fee = parseFloat(((parseInt(this.vehicles[i].base_km) * parseInt(this.vehicles[i].base_fare)) + (extraKm * parseInt(this.vehicles[i].per_km))).toFixed(2))\n                      this.vehicles[i].fee = fee;\n                      this.vehicles[i].fee_taxed = parseFloat((fee + (fee * (parseInt(this.vehicles[i].tax) / 100))).toFixed(2))\n                    }\n\n                    if (this.vehicles[i].commission_type == 'percentage') {\n                      this.vehicles[i].commission = parseFloat((this.vehicles[i].fee * (parseInt(this.vehicles[i].commission_value) / 100)).toFixed(2));\n                    }\n                    else {\n                      this.vehicles[i].commission = parseFloat(parseFloat(this.vehicles[i].commission_value).toFixed(2));\n                    }\n                  }\n\n                } else {\n                  console.log(\"error\");\n                }\n              });\n\n            }\n\n            // set first device as default\n            this.vehicles[0].active = true;\n            this.currentVehicle = this.vehicles[0];\n\n            this.locality = locality;\n            if (this.isTrackDriverEnabled)\n              this.trackDrivers();\n          });\n        }\n      });\n\n      // add destination to map\n      if (this.destination) {\n        this.destLatLng = new google.maps.LatLng(this.destination.location.lat, this.destination.location.lng);\n        var bounds = new google.maps.LatLngBounds();\n        bounds.extend(this.startLatLng);\n        bounds.extend(this.destLatLng);\n\n        mapx.fitBounds(bounds);\n        var request = {\n          origin: this.startLatLng,\n          destination: this.destLatLng,\n          travelMode: google.maps.TravelMode.DRIVING\n        };\n        directionsService.route(request, function (response, status) {\n          if (status == google.maps.DirectionsStatus.OK) {\n            console.log(response);\n            directionsDisplay.setDirections(response);\n            directionsDisplay.setMap(mapx);\n          } else {\n            console.log(\"error\");\n          }\n        });\n      }\n      // this.common.hideLoader();\n    }).catch((error) => {\n      // this.common.hideLoader();\n      console.log('Error getting location', error);\n    });\n  }\n  showPromoPopup() {\n    this.alertCtrl.create({\n      header: 'Enter Promo code',\n      inputs: [\n        { name: 'promocode', placeholder: 'Enter Promo Code', value: this.promocode }\n      ],\n      buttons: [\n        { text: 'Cancel' },\n        {\n          text: 'Apply',\n          handler: (data) => {\n            console.log(data.promocode);\n            // verifying promocode\n            let code = (data.promocode).toUpperCase();\n            this.db.list(\"promocodes\", ref => ref.orderByChild(\"code\").equalTo(code)).snapshotChanges().pipe(take(1)).subscribe((promocodes) => {\n              console.log(promocodes);\n              if (promocodes.length > 0) {\n                let promo: any = promocodes[0].payload.val();\n                this.promocode = promo.code;\n                this.discount = promo.discount;\n                this.tripService.setPromo(promo.code);\n                this.tripService.setDiscount(promo.discount);\n                this.common.showToast(promo.code + \" Applied with \" + promo.discount + \"% discount\");\n              }\n              else {\n                this.common.showToast(\"Invalid Promocode\");\n              }\n            });\n          }\n        }\n      ]\n    }).then(prompt => prompt.present());\n\n  }\n\n\n  // Show note popup when click to 'Notes to user'\n  showNotePopup() {\n    this.alertCtrl.create({\n      header: 'Dicas para o Técnico',\n      message: \"\",\n      inputs: [\n        { name: 'note', placeholder: 'Dicas' },\n      ],\n      buttons: [\n        { text: 'Cancela' },\n        {\n          text: 'Salva',\n          handler: data => {\n            this.note = data;\n            this.tripService.setNote(data);\n            console.log('Saved clicked');\n          }\n        }\n      ]\n    }).then(prompt => prompt.present());\n\n  };\n\n  // go to next view when the 'Book' button is clicked\n  book() {\n\n    this.locateDriver = true;\n\n\n    // guarda detalhes do técnico\n    this.tripService.setAvailableDrivers(this.activeDrivers);\n    this.tripService.setDistance(this.distance);\n    this.tripService.setFee(this.currentVehicle.fee);\n    this.tripService.setRawFee(this.currentVehicle.fee);\n    this.tripService.setFeeTaxed(this.currentVehicle.fee_taxed);\n    this.tripService.setIcon(this.currentVehicle.icon);\n    this.tripService.setNote(this.note);\n    this.tripService.setPromo(this.promocode);\n    this.tripService.setDiscount(this.discount);\n    this.tripService.setTax(this.currentVehicle.tax);\n    this.tripService.setCommissionType(this.currentVehicle.commission_type)\n    this.tripService.setCommissionValue(this.currentVehicle.commission_value)\n    this.tripService.setCommission(this.currentVehicle.commission)\n    // this.tripService.setPaymentMethod('');\n    this.drivers = this.tripService.getAvailableDrivers();\n    // ordena técnicos por avaliação e distancia\n    this.drivers = this.dealService.sortDriversList(this.drivers);\n\n    //aplica desconto\n    console.log(this.tripService.getDiscount());\n    if (this.tripService.getDiscount() != 0) {\n      console.log(this.tripService.getFee());\n\n      let feeAfterDiscount = this.tripService.getFee() - (this.tripService.getFee() * this.tripService.getDiscount() / 100);\n      this.tripService.setFee(parseFloat(feeAfterDiscount.toFixed(2)));\n\n      console.log(feeAfterDiscount.toFixed(2));\n\n      let feeTaxedAfterDiscount = feeAfterDiscount + (feeAfterDiscount * (this.tripService.getTax() / 100))\n\n      this.tripService.setFeeTaxed(parseFloat(feeTaxedAfterDiscount.toFixed(2)));\n      console.log(feeTaxedAfterDiscount.toFixed(2));\n    }\n\n\n    if (this.drivers) {\n      this.makeDeal(0);\n    }\n\n  }\n\n  makeDeal(index) {\n    let driver = this.drivers[index];\n    let dealAccepted = false;\n\n    if (driver) {\n      driver.status = 'Bidding';\n      this.dealService.getDriverDeal(driver.key).valueChanges().pipe(take(1)).subscribe((snapshot: any) => {\n        // if user is available\n        console.log(snapshot);\n        if (snapshot == null) {\n          // create a record\n          console.log(snapshot);\n          console.log(this.user);\n\n          this.dealService.makeDeal(\n            this.user.uid,\n            driver.key,\n            this.tripService.getOrigin(),\n            this.tripService.getDestination(),\n            this.tripService.getDistance(),\n            this.tripService.getFee(),\n            this.tripService.getCurrency(),\n            this.tripService.getNote(),\n            this.tripService.getPaymentMethod(),\n            this.tripService.getPromo(),\n            this.tripService.getDiscount(),\n            this.tripService.getTax(),\n            this.tripService.getFeeTaxed(),\n            this.tripService.getRawFee(),\n            this.tripService.getCommissionType(),\n            this.tripService.getCommissionValue(),\n            this.tripService.getCommission(),\n          ).then(() => {\n            let sub = this.dealService.getDriverDeal(driver.key).valueChanges().subscribe((snap: any) => {\n              // if record doesn't exist or is accepted\n              if (snap === null || snap.status != DEAL_STATUS_PENDING) {\n                sub.unsubscribe();\n\n                // if deal has been cancelled\n                if (snap === null) {\n                  this.nextDriver(index);\n                } else if (snap.status == DEAL_STATUS_ACCEPTED) {\n                  // if deal is accepted\n                  console.log('accepted', snap.tripId);\n                  dealAccepted = true;\n                  this.locateDriver = false;\n\n                  this.drivers = [];\n                  this.tripService.setId(snap.tripId);\n                  // go to user page\n                  this.router.navigateByUrl('tracking');\n                }\n              }\n            });\n          });\n        } else {\n          this.nextDriver(index);\n        }\n      });\n    } else {\n      // show error & try again button\n      console.log('No user found');\n      this.locateDriver = false;\n      this.common.showAlert(\"Nenhum técnico encontrado ou técnicos estão longe do seu endereço \");\n    }\n  }\n\n  // aciona o outro técnico\n  nextDriver(index) {\n    this.drivers.splice(index, 1);\n    this.makeDeal(index);\n  }\n\n  //seleciona o local do atendimento\n  chooseOrigin() {\n\n    this.router.navigate(['map'], {\n      queryParams: {\n        type: 'origin'\n      }\n    });\n  }\n\n  // choose destination place\n  chooseDestination() {\n    this.router.navigate(['map'], {\n      queryParams: {\n        type: 'destination'\n      }\n    });\n  }\n\n  choosePaymentMethod() {\n    this.router.navigateByUrl('/payments');\n  }\n\n  //adiciona local do atendimento ao mapa\n  setOrigin() {\n    // add origin and destination marker\n    let latLng = new google.maps.LatLng(this.origin.location.lat, this.origin.location.lng);\n    let startMarker = new google.maps.Marker({ map: this.map, position: latLng });\n    startMarker.setMap(this.map);\n    if (this.destination)\n      startMarker.setMap(null);\n    // set map center to origin address\n    this.map.setCenter(latLng);\n  }\n\n  // show or hide vehicles\n  toggleVehicles() {\n    this.showVehicles = !this.showVehicles;\n    this.showModalBg = (this.showVehicles == true);\n  }\n\n  // track drivers\n  trackDrivers() {\n    this.showDriverOnMap(this.locality);\n    clearInterval(this.driverTracking);\n\n    this.driverTracking = setInterval(() => {\n      this.showDriverOnMap(this.locality);\n    }, POSITION_INTERVAL);\n  }\n  // show drivers on map\n  showDriverOnMap(locality) {\n\n    console.log(\"Searching: \" + this.currentVehicle.id + \" under \" + locality);\n\n    this.driverService.getActiveDriver(locality, this.currentVehicle.id).valueChanges().pipe(take(1)).subscribe((snapshot: any) => {\n\n      // clear vehicles\n      this.clearDrivers();\n      if (snapshot != null) {\n        console.log(snapshot.length + \" Drivers\");\n        // only show near vehicle\n        snapshot.forEach(vehicle => {\n\n          let distance = this.placeService.calcCrow(vehicle.lat, vehicle.lng, this.origin.location.lat, this.origin.location.lng);\n\n          console.log(\"Distancia:\" + (distance < SHOW_VEHICLES_WITHIN) + \" última atividade:\" + (vehicle.last_active < VEHICLE_LAST_ACTIVE_LIMIT));\n\n          // checking last active time and distance\n          if (distance < SHOW_VEHICLES_WITHIN && Date.now() - vehicle.last_active < VEHICLE_LAST_ACTIVE_LIMIT) {\n            // create or update\n            let latLng = new google.maps.LatLng(vehicle.lat, vehicle.lng);\n\n            let marker = new google.maps.Marker({\n              map: this.map,\n              position: latLng,\n              icon: {\n                url: this.currentVehicle.map_icon,\n                size: new google.maps.Size(32, 32),\n                origin: new google.maps.Point(0, 0),\n                anchor: new google.maps.Point(16, 16),\n                scaledSize: new google.maps.Size(32, 32)\n              },\n            });\n\n            // add vehicle and marker to the list\n            vehicle.distance = distance;\n            this.driverMarkers.push(marker);\n            this.activeDrivers.push(vehicle);\n          } else {\n            console.log('Esse veiculo esta muito longe');\n          }\n\n        });\n      }\n    });\n  }\n\n  // clear expired drivers on the map\n  clearDrivers() {\n    this.activeDrivers = [];\n    this.driverMarkers.forEach((vehicle) => {\n      vehicle.setMap(null);\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { DEAL_STATUS_PENDING } from 'src/environments/environment.prod';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DealService {\n\n  constructor(private db: AngularFireDatabase, private authService: AuthService) {\n  }\n\n  // ordena os técnicos pela avaliação\n  sortDriversList(drivers: Array<any>) {\n    return drivers.sort((a, b) => {\n      return (a.rating - a.distance / 5) - (b.rating - b.distance / 5);\n    })\n  }\n\n  // make deal to driver\n  makeDeal(userId, driverId, origin, destination, distance, fee, currency, note, paymentMethod, promocode, discount, tax, fee_taxed, rawfee, commission_type, commission_value, commission) {\n    return this.db.object('deals/' + driverId).set({\n      passengerId: userId,\n      currency: currency,\n      origin: origin,\n      destination: destination,\n      distance: distance,\n      fee: fee,\n      note: note,\n      paymentMethod: paymentMethod,\n      status: DEAL_STATUS_PENDING,\n      createdAt: Date.now(),\n      promocode: promocode,\n      discount: discount,\n      tax: tax,\n      fee_taxed: fee_taxed,\n      rawfee: rawfee,\n      commission_type: commission_type,\n      commission_value: commission_value,\n      commission: commission\n    });\n  }\n\n  // get deal by driverId\n  getDriverDeal(driverId) {\n    return this.db.object('deals/' + driverId);\n  }\n\n  // remove deal\n  removeDeal(driverId) {\n    return this.db.object('deals/' + driverId).remove();\n  }\n}\n"],"sourceRoot":"webpack:///"}