{"version":3,"sources":["webpack:///src/app/history/history.page.html","webpack:///src/app/history/history-routing.module.ts","webpack:///src/app/history/history.module.ts","webpack:///src/app/history/history.page.scss","webpack:///src/app/history/history.page.ts"],"names":["routes","path","component","HistoryPageRoutingModule","imports","forChild","exports","HistoryPageModule","declarations","HistoryPage","common","tripService","translate","router","authService","trips","getTrips","getUserData","then","user","showLoader","uid","valueChanges","pipe","subscribe","snapshot","reverse","hideLoader","trip","status","setId","key","navigateByUrl","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,wBAAwB;AAAA;AAAA,O;;AAAxBA,8BAAwB,6DAJpC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIoC,GAAxBH,wBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCKAI,iBAAiB;AAAA;AAAA,O;;AAAjBA,uBAAiB,6DAV7B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mEAJO,EAKP,gFALO,CADD;AAQRI,oBAAY,EAAE,CAAC,yDAAD;AARN,OAAT,CAU6B,GAAjBD,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACrBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCaFE,WAAW;AAEtB,6BACUC,MADV,EAEUC,WAFV,EAGUC,SAHV,EAIUC,MAJV,EAKUC,WALV,EAKkC;AAAA;;AAJxB,eAAAJ,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AANV,eAAAC,KAAA,GAAa,EAAb;AAOK;;AARiB;AAAA;AAAA,qCAUX,CAEV;AAZqB;AAAA;AAAA,4CAcJ;AAChB,iBAAKC,QAAL;AACD;AAhBqB;AAAA;AAAA,qCAkBX;AAAA;;AACT,iBAAKF,WAAL,CAAiBG,WAAjB,GAA+BC,IAA/B,CAAoC,UAAAC,IAAI,EAAI;AAC1C,mBAAI,CAACT,MAAL,CAAYU,UAAZ;;AACA,mBAAI,CAACT,WAAL,CAAiBK,QAAjB,CAA0BG,IAAI,CAACE,GAA/B,EAAoCC,YAApC,GAAmDC,IAAnD,CAAwD,4DAAK,CAAL,CAAxD,EAAiEC,SAAjE,CAA2E,UAACC,QAAD,EAAmB;AAE5F,oBAAIA,QAAQ,IAAI,IAAhB,EACE,KAAI,CAACV,KAAL,GAAaU,QAAQ,CAACC,OAAT,EAAb;;AAEF,qBAAI,CAAChB,MAAL,CAAYiB,UAAZ;AACD,eAND;AAOD,aATD;AAUD;AA7BqB;AAAA;AAAA,mCA+BbC,IA/Ba,EA+BP;AACb,gBAAIA,IAAI,CAACC,MAAL,IAAe,OAAnB,EAA4B;AAC1B,mBAAKlB,WAAL,CAAiBmB,KAAjB,CAAuBF,IAAI,CAACG,GAA5B;AACA,mBAAKlB,MAAL,CAAYmB,aAAZ,CAA0B,WAA1B;AACD,aAHD,MAIK;AACH,mBAAKnB,MAAL,CAAYmB,aAAZ,CAA0B,eAAeJ,IAAI,CAACG,GAA9C;AACD;AACF;AAvCqB;;AAAA;AAAA,S;;;;gBAZf;;gBACA;;gBAEA;;gBACA;;gBACA;;;;AAOItB,iBAAW,6DALvB,gEAAU;AACTwB,gBAAQ,EAAE,aADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,gGAFS;;;;AAAA,OAAV,CAKuB,GAAXzB,WAAW,CAAX","file":"history-history-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>{{'HISTORY' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <p *ngIf=\\\"trips.length == 0\\\" style=\\\"margin-top: 5px; text-align: center\\\">{{'NO_TRIPS_FOUND' | translate}}</p>\\n  <ion-list lines=\\\"none\\\">\\n    <ion-item *ngFor=\\\"let trip of trips\\\" (click)=\\\"viewTrip(trip)\\\">\\n      <ion-icon name=\\\"car\\\" slot=\\\"start\\\" style=\\\"margin-right: 20px;\\\"></ion-icon>\\n      <ion-label>\\n        <h3>{{ trip.createdAt | date:'MMM dd, yyyy hh:mm a'}}</h3>\\n        <p>{{ trip.createdAt }}</p>\\n        <p>{{ trip.origin.vicinity }}</p>\\n        <p>{{ trip.destination.vicinity }}</p>\\n      </ion-label>\\n      <ion-text slot=\\\"end\\\" style=\\\"margin: 0;\\\">\\n        <p class=\\\"currency\\\">{{trip.currency}} {{trip.fee}}</p>\\n      </ion-text>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPageRoutingModule } from './history-routing.module';\n\nimport { HistoryPage } from './history.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    HistoryPageRoutingModule\n  ],\n  declarations: [HistoryPage]\n})\nexport class HistoryPageModule {}\n","export default \"h3 {\\n  font-weight: 500;\\n}\\n\\n.currency {\\n  color: #4caf50;\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaGlzdG9yeS9oaXN0b3J5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0VBQ0EsZ0JBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL2hpc3RvcnkvaGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoM3tcbiAgICBmb250LXdlaWdodDogNTAwXG59XG5cbi5jdXJyZW5jeXtcbiAgICBjb2xvcjogIzRjYWY1MDtcbiAgICBmb250LXdlaWdodDogNTAwO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { CommonService } from '../services/common.service';\nimport { TripService } from '../services/trip.service';\nimport { take } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.page.html',\n  styleUrls: ['./history.page.scss'],\n})\nexport class HistoryPage implements OnInit {\n  trips: any = [];\n  constructor(\n    private common: CommonService,\n    private tripService: TripService,\n    private translate: TranslateService,\n    private router: Router,\n    private authService: AuthService,\n  ) { }\n\n  ngOnInit() {\n\n  }\n\n  ionViewDidEnter() {\n    this.getTrips()\n  }\n\n  getTrips() {\n    this.authService.getUserData().then(user => {\n      this.common.showLoader();\n      this.tripService.getTrips(user.uid).valueChanges().pipe(take(1)).subscribe((snapshot: any) => {\n\n        if (snapshot != null)\n          this.trips = snapshot.reverse();\n\n        this.common.hideLoader()\n      });\n    })\n  }\n\n  viewTrip(trip) {\n    if (trip.status == 'going') {\n      this.tripService.setId(trip.key);\n      this.router.navigateByUrl('/tracking');\n    }\n    else {\n      this.router.navigateByUrl('/rideinfo/' + trip.key);\n    }\n  }\n}\n"]}